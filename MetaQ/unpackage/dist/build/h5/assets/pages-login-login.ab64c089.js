import{n as a,o as s,c as e,w as l,i as t,a as i,b as o,q as n,s as r,e as c,u as m,I as d,j as u,v as p,x as h}from"./index-6fe189e7.js";import{a as f}from"./axios.5ae1da96.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";const k=g({data:()=>({formData:{email:"",password:""},token:"",trueEmail:!0,check:!1,visible:!1}),computed:{isFill(){return!1!==this.trueEmail&&""!==this.formData.password&&this.check}},methods:{submitForm(){f.post("http://localhost:8080/login",{email:this.formData.email,password:this.formData.password}).then((a=>{this.token=a.data," "==this.token&&alert("登录失败"),console.log("token",this.token),localStorage.setItem("token",JSON.stringify(this.token)),console.log("localStorage",localStorage.getItem("token"))})).catch((a=>{console.log(a)}))},checkEmail(){this.check=!0;this.trueEmail=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.formData.email)},changeView(){this.visible=!this.visible},Register(){a({url:"/pages/register/register"})},findPasswd(){a({url:"/pages/findPasswd/findPasswd"})}}},[["render",function(a,f,g,k,b,w){const v=t,_=m,I=d,D=u,x=p,C=h;return s(),e(v,null,{default:l((()=>[i(v,{class:"bg"},{default:l((()=>[i(v,{class:"title"},{default:l((()=>[o(" Login ")])),_:1}),i(C,{onSubmit:n(w.submitForm,["prevent"]),class:"Form"},{default:l((()=>[r("div",{class:c({"Input-margin":b.trueEmail,errorWrite:!b.trueEmail})},[i(_,{class:"label"},{default:l((()=>[o("邮箱：")])),_:1}),i(I,{type:"email",placeholder:"请输入邮箱",class:"Input",maxlength:"20",modelValue:b.formData.email,"onUpdate:modelValue":f[0]||(f[0]=a=>b.formData.email=a),onInput:w.checkEmail,required:""},null,8,["modelValue","onInput"])],2),r("div",{class:"Input-margin"},[i(_,{class:"label"},{default:l((()=>[o("密码：")])),_:1}),i(I,{type:this.visible?"text":"password",maxlength:"16",placeholder:"请输入密码",class:"Input",modelValue:b.formData.password,"onUpdate:modelValue":f[1]||(f[1]=a=>b.formData.password=a),required:""},null,8,["type","modelValue"]),i(D,{class:"img",src:this.visible?"../../static/login/visible.png":"../../static/login/invisible.png",onClick:w.changeView},null,8,["src","onClick"])]),r("div",{class:"buttonGroup"},[i(v,{class:c({active:w.isFill,inactive:!w.isFill}),disabled:!w.isFill,type:"submit",onClick:w.submitForm},{default:l((()=>[o("登录")])),_:1},8,["class","disabled","onClick"]),i(x,{onClick:w.Register,class:"link"},{default:l((()=>[o("没有账户？点此注册")])),_:1},8,["onClick"]),i(x,{onClick:w.findPasswd,class:"link"},{default:l((()=>[o("忘记密码？点此找回")])),_:1},8,["onClick"])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})}],["__scopeId","data-v-b0ebc500"]]);export{k as default};
