import{o as e,c as t,w as a,a as s,b as o,t as l,g as r,h as i,F as n,i as c,l as u,f as p,B as d,e as h,A as m,S as f,k as g}from"./index-6fe189e7.js";import{T as b}from"./tabSwiper.a0c4cdc3.js";import{_ as C}from"./echarts.87700ebe.js";import{r as _}from"./uni-app.es.f2de9903.js";import{_ as y}from"./_plugin-vue_export-helper.1b428a4d.js";const k=y({components:{TabSwiper:b,AnalysisBlock:y({name:"QBlock",props:{title:{type:String,default:""},type:{type:String,default:""}},data:()=>({pushText:"已发布",CType:"",SData:["列表","饼状","环状","柱状","条形","折线"],displayText:"列表",currentSwiper:0,chartData:[{name:"选项1",ratio:"50%",value:"10"},{name:"选项2",ratio:"25%",value:"5"},{name:"选项3",ratio:"25%",value:"5"}],pieData:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"},{value:300,name:"Vdeo"},{value:300,name:"Vieo"},{value:300,name:"Vido"},{value:300,name:"Vide"}]}),mounted(){switch(this.type){case"single":this.CType="单选题";break;case"multiple":this.CType="多选题";break;case"blank":this.CType="填空题"}},computed:{end(){return this.isEnd?"已截止":"修改"},dynamicColorPalette(){function e(e,t,a){return`rgba(${Math.round(e.r+(t.r-e.r)*a)}, ${Math.round(e.g+(t.g-e.g)*a)}, ${Math.round(e.b+(t.b-e.b)*a)}, ${e.a+(t.a-e.a)*a})`}const t=[{color:{r:22,g:176,b:188,a:1},position:0},{color:{r:74,g:200,b:185,a:1},position:4.16},{color:{r:46,g:205,b:217,a:1},position:9.26},{color:{r:164,g:239,b:245,a:1},position:25.93},{color:{r:110,g:222,b:230,a:1},position:39.81},{color:{r:220,g:220,b:220,a:1},position:56.27},{color:{r:189,g:158,b:255,a:1},position:80.28},{color:{r:129,g:99,b:199,a:1},position:87.5},{color:{r:90,g:36,b:240,a:1},position:94.91}],a=this.pieData.length,s=[];for(let o=0;o<a;o++){const l=Math.floor(o/(a-1)*(t.length-1)),r=t[Math.ceil(o/(a-1)*(t.length-1))],i=o/(a-1)*100,n=e(t[l].color,r.color,i/100);s.push(n)}return console.log(s),s},pieOption(){return{tooltip:{trigger:"item"},series:[{name:"Access From",type:"pie",radius:"50%",selectedMode:"single",color:this.dynamicColorPalette,data:this.pieData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},methods:{onSwiperChange(e){const t=this.currentSwiper,a=e.detail.current;a-t!=1&&a-t!=-1||(this.currentSwiper=a,console.log(this.currentSwiper)),a-t>1&&(this.currentSwiper=t+1,console.log(this.currentSwiper)),a-t<-1&&(this.currentSwiper=t-1,console.log(this.currentSwiper))},onBottomItemClick(e){console.log(e),this.currentSwiper=e},onChartClick(e){if("series"===e.componentType&&"pie"===e.seriesType){const t=e.name,a=e.value;console.log("Clicked Name:",t),console.log("Clicked Value:",a);const s=this.pieOption.series[0].data.map((e=>e.name===t?{...e,emphasis:{scale:!0,focus:"series"}}:{...e,emphasis:{scale:!1,focus:"series"}}));this.pieOption.series[0].data=s,this.$refs.chartContainer.refresh()}}}},[["render",function(g,b,y,k,w,S){const T=c,v=m,x=_(u("echarts"),C),B=f,D=p;return e(),t(T,{class:"Block"},{default:a((()=>[s(T,{class:"topBox"},{default:a((()=>[s(T,{class:"title"},{default:a((()=>[o(l(y.title),1)])),_:1}),s(T,{class:"type"},{default:a((()=>[o("["+l(w.CType)+"]",1)])),_:1})])),_:1}),s(D,{class:"middleBox",onChange:S.onSwiperChange,current:w.currentSwiper,loop:!1},{default:a((()=>[(e(!0),r(n,null,i(w.SData,((c,u)=>(e(),t(B,{class:"chart",key:u},{default:a((()=>[0===u?(e(),t(T,{key:0},{default:a((()=>[s(T,{class:"header"},{default:a((()=>[s(v,{class:"option"},{default:a((()=>[o("选项")])),_:1}),s(v,{class:"ratio"},{default:a((()=>[o("比例")])),_:1}),s(v,{class:"count"},{default:a((()=>[o("数量")])),_:1})])),_:1}),(e(!0),r(n,null,i(w.chartData,((r,i)=>(e(),t(T,{key:i,class:"row"},{default:a((()=>[s(v,{class:"option"},{default:a((()=>[o(l(r.name),1)])),_:2},1024),s(v,{class:"ratio"},{default:a((()=>[o(l(r.ratio),1)])),_:2},1024),s(v,{class:"count"},{default:a((()=>[o(l(r.value),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):d("",!0),1===u?(e(),t(T,{key:1,class:"chartContainer"},{default:a((()=>[s(x,{ref_for:!0,ref:"chartContainer",option:S.pieOption,onClick:S.onChartClick,class:"pie"},null,8,["option","onClick"])])),_:1})):d("",!0)])),_:2},1024)))),128))])),_:1},8,["onChange","current"]),s(T,{class:"bottomBox"},{default:a((()=>[(e(!0),r(n,null,i(w.SData,((s,r)=>(e(),t(T,{key:r,onClick:e=>S.onBottomItemClick(r),class:h({bottomItem:!0,ellipse:w.currentSwiper===r})},{default:a((()=>[o(l(w.SData[r]),1)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1})}],["__scopeId","data-v-b1a1b739"]])},data:()=>({title:"关于c10居住学生学校住宿感受的的调研",currentTab:0,text1:"分析",text2:"编辑",blocks:[{id:1,title:"1.你住在几楼",type:"single"},{id:2,title:"2.你住在几楼",type:"multiple"},{id:3,title:"3.你住在几楼",type:"blank"}]}),methods:{swiperChange(e){this.currentTab=e.detail.current},handleTabChange(e){this.currentTab=e}}},[["render",function(u,d,h,m,b,C){const _=c,y=g("tab-swiper"),k=g("AnalysisBlock"),w=f,S=p;return e(),t(_,{class:"background"},{default:a((()=>[s(_,{class:"title"},{default:a((()=>[o(l(b.title),1)])),_:1}),s(_,{class:"container"},{default:a((()=>[s(y,{class:"tabSwiper",onTabChange:C.handleTabChange,"current-tab":b.currentTab,text1:b.text1,text2:b.text2},null,8,["onTabChange","current-tab","text1","text2"]),s(S,{current:b.currentTab,onChange:C.swiperChange,duration:300,class:"swiper"},{default:a((()=>[s(w,null,{default:a((()=>[s(_,{class:"page1"},{default:a((()=>[(e(!0),r(n,null,i(b.blocks,((a,s)=>(e(),t(k,{key:a.id,title:a.title,type:a.type},null,8,["title","type"])))),128))])),_:1})])),_:1}),s(w,null,{default:a((()=>[s(_,{class:"page2"},{default:a((()=>[o(" 222 ")])),_:1})])),_:1})])),_:1},8,["current","onChange"])])),_:1})])),_:1})}],["__scopeId","data-v-64e2a99d"]]);export{k as default};
