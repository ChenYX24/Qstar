import{o as t,c as e,w as o,a as i,i as r}from"./index-6fe189e7.js";import{_ as s}from"./_plugin-vue_export-helper.1b428a4d.js";const n={data:()=>({chart:null}),mounted(){if("object"==typeof window.echarts)this.init();else{const t=document.createElement("script");t.src="/static/echarts/echarts.min.js",t.onload=this.init,document.head.appendChild(t)}},methods:{init(){this.chart=echarts.init(this.$el),this.update(this.option)},update(t){this.chart&&t&&(t.tooltip&&(t.tooltip.positionStatus&&(t.tooltip.position=this.tooltipPosition()),t.tooltip.formatterStatus&&(t.tooltip.formatter=this.tooltipFormatter(t.tooltip.formatterUnit,t.tooltip.formatFloat2,t.tooltip.formatThousands))),this.chart.setOption(t,t.notMerge))},tooltipPosition:()=>(t,e,o,i,r)=>{let s=t[0],n=t[1];r.viewSize[0],r.viewSize[1];let a=r.contentSize[0],l=r.contentSize[1],p=0,h=0;return p=s<a?5:s-a,h=n<l?5:n-l,[p,h]},tooltipFormatter(t,e,o){return i=>{let r="";t=t||"";for(let s in i){0==s&&(r+=i[s].axisValueLabel);let n="--";null!==i[s].data&&(n=i[s].data,e&&(n=this.formatFloat2(n)),o&&(n=this.formatThousands(n))),r+="\n"+i[s].seriesName+"ï¼š"+n+" "+t}return r}},formatFloat2(t){let e=Math.round(100*parseFloat(t))/100,o=e.toString().split(".");return 1===o.length?(e=(isNaN(e)?"0":e.toString())+".00",e):o.length>1?(o[1].length<2&&(e=e.toString()+"0"),e):void 0},formatThousands(t){null==t&&(t=""),isNaN(t)||(t+="");let e=/\d{1,3}(?=(\d{3})+$)/g;return t.replace(/^(\d+)((\.\d+)?)$/,(function(t,o,i){return o.replace(e,"$&,")+i}))}}},a=t=>{t.$renderjs||(t.$renderjs=[]),t.$renderjs.push("echarts"),t.mixins||(t.mixins=[]),t.mixins.push({beforeCreate(){this.echarts=this},mounted(){this.$ownerInstance=this.$gcd(this,!0)}}),t.mixins.push(n)},l={name:"Echarts",props:{option:{type:Object,required:!0}}};a(l);const p=s(l,[["render",function(s,n,a,l,p,h){const c=r;return t(),e(c,null,{default:o((()=>[i(c,{class:"echarts",prop:a.option,"change:prop":s.echarts.update},null,8,["prop","change:prop"])])),_:1})}],["__scopeId","data-v-df20575e"]]);export{p as _};
